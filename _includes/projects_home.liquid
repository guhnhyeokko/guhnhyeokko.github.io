{% assign sorted_projects = site.projects | sort: 'importance' %}
{% if include.limit %}
  {% assign sorted_projects = sorted_projects | slice: 0, include.limit %}
{% endif %}

<div class="projects">
  <div class="row row-cols-1 row-cols-md-3 g-4">
    {% for project in sorted_projects %}
      <div class="col">
        <a href="{% if project.redirect %}{{ project.redirect }}{% else %}{{ project.url | relative_url }}{% endif %}">
          <div class="card h-100 hoverable">
            {% if project.img %}
              {%
                include figure.liquid
                loading="lazy"
                path=project.img
                sizes="250px"
                alt="project thumbnail"
                class="card-img-top"
              %}
            {% endif %}
            <div class="card-body">
              <h5 class="card-title">{{ project.title }}</h5>
              <p class="card-text">{{ project.description }}</p>
            </div>
          </div>
        </a>
      </div>
    {% endfor %}
  </div>
</div>
